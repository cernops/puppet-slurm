<%#                                                                          -%>
<%# slurmdb.conf.erb                                                         -%>
<%#   Template containing parameters for db node                             -%>
<%#                                                                          -%>
#
# /etc/slurm/slurmdb.conf generated by puppet on <% Time.now.gmtime.strftime("%d-%m-%Y") %> at <% Time.now.gmtime.strftime("%T") %>
#   Configuration file containing parameters for dbnode.
#
#
# Archive info
#ArchiveJobs=yes
#ArchiveDir="/tmp"
#ArchiveSteps=yes
#ArchiveScript=
#JobPurge=12
#StepPurge=1
#
# Authentication info
AuthType=auth/munge
AuthInfo=/var/run/munge/munge.socket.2
#
# slurmDBD info
#
# DbdHost name, used as an argument to the gethostbyname() function
#DbdAddr=<%= @slurmdb_host %>
# name of the machine where the Slurm Database Daemon runs
DbdHost=<%= @slurmdb_host %>
DbdPort=<%= @slurmdb_port %>
SlurmUser=<%= @slurmuser %>
#MessageTimeout=300
DebugLevel=4
#DefaultQOS=normal,standby
LogFile=/var/log/slurm/slurmdbd.log
PidFile=/var/run/slurmdbd.pid
#PluginDir=/usr/lib/slurm
#PrivateData=accounts,users,usage,jobs
#TrackWCKey=yes
#
# Database info
StorageType=accounting_storage/mysql
StorageHost=<%= @db_host %>
StoragePort=<%= @db_port %>
StoragePass=%TEIGI__slurmdbpass__%
StorageUser=<%= @db_user %>
StorageLoc=<%= @db_loc %>
