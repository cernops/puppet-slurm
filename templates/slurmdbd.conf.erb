<%# slurmdb.conf.erb                                                         -%>
<%#                                                                          -%>
<%# Parameters for SLURM db node                                             -%>
<%#                                                                          -%>
<%# version 20170327                                                         -%>
<%#                                                                          -%>
<%# Copyright (c) CERN, 2016-2017                                            -%>
<%# Authors: - Philippe Ganz <phganz@cern.ch>                                -%>
<%#          - Carolina Lindqvist <calindqv@cern.ch>                         -%>
<%# License: GNU GPL v3 or later.                                            -%>
<%#                                                                          -%>
# /etc/slurm/slurmdb.conf generated by puppet
#
# Configuration file containing parameters for dbnode.
#

# Archive info
#ArchiveJobs=yes
#ArchiveDir="/tmp"
#ArchiveSteps=yes
#ArchiveScript=
#JobPurge=12
#StepPurge=1

# Authentication info
AuthType=auth/munge
AuthInfo=/var/run/munge/munge.socket.2

# slurmDBD info
#
# DbdHost name, used as an argument to the gethostbyname() function
#DbdAddr=
# name of the machine where the Slurm Database Daemon runs
DbdHost=<%= @dbd_host %>
DbdPort=<%= @dbd_port %>
SlurmUser=<%= @slurm_user %>
#MessageTimeout=300
DebugLevel=4
#DefaultQOS=normal,standby
LogFile=/var/log/slurm/slurmdbd.log
PidFile=/var/run/slurmdbd.pid
#PluginDir=/usr/lib/slurm
#PrivateData=accounts,users,usage,jobs
#TrackWCKey=yes

# Database info
StorageType=accounting_storage/mysql
StorageHost=<%= @storage_host %>
StoragePort=<%= @storage_port %>
StoragePass=%TEIGI__slurmdbpass__%
StorageUser=<%= @storage_user %>
StorageLoc=<%= @storage_loc %>
