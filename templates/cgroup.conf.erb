<%# cgroup.conf.erb                                                          -%>
<%#                                                                          -%>
<%# Cgroup parameters for cgroup related SLURM plugins                       -%>
<%#                                                                          -%>
<%# version 20170327                                                         -%>
<%#                                                                          -%>
<%# Copyright (c) CERN, 2016-2017                                            -%>
<%# Authors: - Philippe Ganz <phganz@cern.ch>                                -%>
<%#          - Carolina Lindqvist <calindqv@cern.ch>                         -%>
<%# License: GNU GPL v3 or later.                                            -%>
<%#                                                                          -%>
# /etc/slurm/cgroup.conf generated by puppet
#
# Configuration file containing cgroup parameters for SLURM plugins
#

#################################
# General cgroup options

# Automatically mount the cgroup subsystem if not already mounted
CgroupAutomount=yes


##################################
# TASK/CGROUP plugin configuration

##################################
# CPU

# Constrain allowed cores to the subset of allocated resources
ConstrainCores=yes


##################################
# Memory

# Constrain the job cgroup RAM to this percentage of the allocated memory
AllowedRAMSpace=99.5

# Constrain the job cgroup swap space to this percentage of the allocated memory
AllowedSwapSpace=50

# Constrain the job's RAM usage by setting the memory soft limit to the allocated memory and the hard limit to the allocated memory * AllowedRAMSpace
ConstrainRAMSpace=yes

# Constrain the job's swap space usage
ConstrainSwapSpace=yes
